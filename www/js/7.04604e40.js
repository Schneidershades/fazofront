(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"106f":function(t,e,a){"use strict";var i=a("cf53"),l=a.n(i);l.a},"662d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-img",{staticStyle:{height:"200px"}},[a("div",{staticClass:"absolute-full text-subtitle2 flex flex-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 q-pa-sm"},[a("h6",{staticClass:"text-center",staticStyle:{padding:"12px","background-color":"#0d47a1","font-weight":"700"}},[t._v("Flight Schedule")])])])])]),a("div",{staticClass:"q-pa-sm"},[a("q-form",{ref:"form",staticClass:"q-pa-md",on:{submit:t.searchFlight}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("q-radio",{attrs:{val:"Oneway",label:"Oneway"},model:{value:t.form.flightSearchType,callback:function(e){t.$set(t.form,"flightSearchType",e)},expression:"form.flightSearchType"}}),a("q-radio",{attrs:{val:"Return",label:"Return"},model:{value:t.form.flightSearchType,callback:function(e){t.$set(t.form,"flightSearchType",e)},expression:"form.flightSearchType"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-3 q-pa-sm"},[a("q-select",{attrs:{filled:"",options:t.airports,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",hint:"Select your destination",label:"From *","option-value":function(t){return Object(t)===t&&"AirportCode"in t?t.AirportCode:null},"option-label":function(t){return Object(t)===t&&"AirportName"in t?t.AirportName+" - "+t.CityCountry:null},"option-disable":function(t){return Object(t)!==t||!0===t.inactive},"emit-value":"","map-options":""},on:{filter:t.filterFn,"filter-abort":t.abortFilterFn},model:{value:t.form.departure,callback:function(e){t.$set(t.form,"departure",e)},expression:"form.departure"}})],1),a("div",{staticClass:"col-12 col-md-3 q-pa-sm"},[a("q-select",{attrs:{filled:"",options:t.airports,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",hint:"Select your destination",label:"To *","option-value":function(t){return Object(t)===t&&"AirportCode"in t?t.AirportCode:null},"option-label":function(t){return Object(t)===t&&"AirportName"in t?t.AirportName+" - "+t.CityCountry:null},"option-disable":function(t){return Object(t)!==t||!0===t.inactive},"emit-value":"","map-options":""},on:{filter:t.filterFn,"filter-abort":t.abortFilterFn},model:{value:t.form.destination,callback:function(e){t.$set(t.form,"destination",e)},expression:"form.destination"}})],1),a("div",{staticClass:"col-12 col-md-3 q-pa-sm"},[a("q-input",{attrs:{filled:"",mask:"date",label:"Departure Date",value:t.optionsFn,rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{options:t.optionsFn},on:{input:function(){return t.$refs.qDateProxy.hide()}},model:{value:t.form.departureDate,callback:function(e){t.$set(t.form,"departureDate",e)},expression:"form.departureDate"}})],1)],1)]},proxy:!0}]),model:{value:t.form.departureDate,callback:function(e){t.$set(t.form,"departureDate",e)},expression:"form.departureDate"}})],1),"Return"==t.form.flightSearchType?a("div",{staticClass:"col-12 col-md-3 q-pa-sm"},["Return"==t.form.flightSearchType?a("q-input",{attrs:{filled:"",mask:"date",label:"Return Date",value:t.optionsFn,rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{options:t.optionsFn},on:{input:function(){return t.$refs.qDateProxy.hide()}},model:{value:t.form.returnDate,callback:function(e){t.$set(t.form,"returnDate",e)},expression:"form.returnDate"}})],1)],1)]},proxy:!0}],null,!1,772729897),model:{value:t.form.returnDate,callback:function(e){t.$set(t.form,"returnDate",e)},expression:"form.returnDate"}}):t._e()],1):t._e(),a("div",{staticClass:"col-12 col-md-3 q-pa-sm"},[a("q-input",{attrs:{filled:"",type:"number",min:"1",label:"Adult *","lazy-rules":""},model:{value:t.form.adults,callback:function(e){t.$set(t.form,"adults",e)},expression:"form.adults"}})],1),a("div",{staticClass:"col-12 col-md-3 q-pa-sm"},[a("q-input",{attrs:{filled:"",type:"number",min:"0",label:"Children *","lazy-rules":""},model:{value:t.form.children,callback:function(e){t.$set(t.form,"children",e)},expression:"form.children"}})],1),a("div",{staticClass:"col-12 col-md-3 q-pa-sm"},[a("q-input",{attrs:{filled:"",type:"number",min:"0",label:"Infant *","lazy-rules":""},model:{value:t.form.infants,callback:function(e){t.$set(t.form,"infants",e)},expression:"form.infants"}})],1)]),a("div",{staticClass:"row"},[a("q-card-actions",{staticClass:"col-3",attrs:{align:"center"}},[a("q-btn",{staticClass:"full-width",attrs:{type:"submit",unelevated:"",color:"primary",size:"lg",label:"Search Flight",disable:t.disable}})],1)],1)]),a("div",{staticClass:"q-gutter-y-md"},[null!=t.searchInputs?a("q-card",{staticClass:"my-card"},[a("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},["Oneway"==t.tab?a("q-tab",{staticClass:"q-pa-md",attrs:{name:"Oneway",label:"Oneway Flights",icon:"flight"}}):t._e(),"Return"==t.tab?a("q-tab",{staticClass:"q-pa-md",attrs:{name:"Return",label:"Return",icon:"flight"}}):t._e()],1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"Oneway"}},[t.flights?a("table",[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Airline")]),a("th",{attrs:{scope:"col"}},[t._v("Departure")]),a("th",{attrs:{scope:"col"}},[t._v("Arrival")]),a("th",{attrs:{scope:"col"}},[t._v("Class")]),a("th",{attrs:{scope:"col"}},[t._v("Amount")]),a("th",{attrs:{scope:"col"}},[t._v("Total")])])]),a("tbody",[t.flights.message.length>0?t._l(t.flights.message,(function(e){return a("tr",{key:e.SelectData},[a("td",{attrs:{"data-label":"Airline"}},[a("img",{attrs:{src:e.FlightCombination.FlightModels[0].AirlineLogoUrl,align:"center",alt:"",width:"70"}}),a("br"),a("b",[t._v(t._s(e.FlightCombination.FlightModels[0].AirlineName)+" ")]),a("b",[t._v(t._s(e.FlightCombination.FlightModels[0].Name)+" - "+t._s(e.FlightCombination.FlightModels[0].Airline))])]),a("td",{attrs:{"data-label":"Departure"}},[t._v("\n                      "+t._s(e.FlightCombination.FlightModels[0].DepartureCode)),a("br"),t._v(" \n                      "+t._s(e.FlightCombination.FlightModels[0].FlightLegs[0].DepartureName)),a("br"),t._v("\n                      "+t._s(e.FlightCombination.FlightModels[0].FlightLegs[0].StartTime)),a("br")]),a("td",{attrs:{"data-label":"Arrival"}},[t._v("\n                      "+t._s(e.FlightCombination.FlightModels[0].FlightLegs[0].DestinationCode)),a("br"),t._v("\n                      "+t._s(e.FlightCombination.FlightModels[0].FlightLegs[0].DestinationName)),a("br"),t._v("\n                      "+t._s(e.FlightCombination.FlightModels[0].FlightLegs[0].EndTime)),a("br")]),a("td",{attrs:{"data-label":"Class"}},[t._v("\n                      "+t._s(e.FlightCombination.FlightModels[0].FlightLegs[0].CabinClassName)),a("br")]),a("td",{attrs:{"data-label":"Amount"}},[a("div",{staticClass:"text-h5"},[t._v(t._s(e.FlightCombination.Price.CurrencyCode)+" "+t._s(e.FlightCombination.Price.Amount))])]),a("td",{staticClass:"text-center",attrs:{"data-label":"Total"}},[t._v("\n                      Book Now "),a("br"),a("q-radio",{key:e.SelectData,attrs:{size:"lg",val:e},on:{input:function(a){return t.pickTransaction(e)}},model:{value:t.transactionId,callback:function(e){t.transactionId=e},expression:"transactionId"}}),a("br"),t._v("\n\n                      View Details"),a("br"),null!=t.dataFlight&&e.SelectData?[a("q-btn",{attrs:{color:"primary",disabled:t.dataFlight.SelectData!=e.SelectData},on:{click:t.checkout}},[t._v("\n                          Proceed\n                        ")])]:t._e()],2)])})):[a("td",{attrs:{colspan:"6"}},[a("p",{staticClass:"text-h6"},[t._v("No Flights are found at the moment.")])])]],2)]):t._e()]),a("q-tab-panel",{attrs:{name:"Return"}},[t.flights?a("table",[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Airline")]),a("th",{attrs:{scope:"col"}},[t._v("Departure")]),a("th",{attrs:{scope:"col"}},[t._v("Arrival")]),a("th",{attrs:{scope:"col"}},[t._v("Class")]),a("th",{attrs:{scope:"col"}},[t._v("Amount")]),a("th",{attrs:{scope:"col"}},[t._v("Total")])])]),a("tbody",[t.flights.message.length>0?t._l(t.flights.message,(function(e){return a("tr",{key:e.SelectData},[a("td",{attrs:{"data-label":"Airline"}},[a("img",{attrs:{src:e.FlightCombination.FlightModels[0].AirlineLogoUrl,align:"center",alt:"",width:"70"}}),a("br"),a("b",[t._v(t._s(e.FlightCombination.FlightModels[0].AirlineName)+" ")]),a("b",[t._v(t._s(e.FlightCombination.FlightModels[0].Name)+" - "+t._s(e.FlightCombination.FlightModels[0].Airline))])]),a("td",{attrs:{"data-label":"Departure"}},[t._v("\n                      "+t._s(e.FlightCombination.FlightModels[0].DepartureCode)),a("br"),t._v(" \n                      "+t._s(e.FlightCombination.FlightModels[0].FlightLegs[0].DepartureName)),a("br"),t._v("\n                      "+t._s(e.FlightCombination.FlightModels[0].FlightLegs[0].StartTime)),a("br")]),a("td",{attrs:{"data-label":"Arrival"}},[t._v("\n                      "+t._s(e.FlightCombination.FlightModels[0].FlightLegs[0].DestinationCode)),a("br"),t._v("\n                      "+t._s(e.FlightCombination.FlightModels[0].FlightLegs[0].DestinationName)),a("br"),t._v("\n                      "+t._s(e.FlightCombination.FlightModels[0].FlightLegs[0].EndTime)),a("br")]),a("td",{attrs:{"data-label":"Class"}},[t._v("\n                      "+t._s(e.FlightCombination.FlightModels[0].FlightLegs[0].CabinClassName)),a("br")]),a("td",{attrs:{"data-label":"Amount"}},[a("div",{staticClass:"text-h5"},[t._v(t._s(e.FlightCombination.Price.CurrencyCode)+" "+t._s(e.FlightCombination.Price.Amount))])]),a("td",{staticClass:"text-center",attrs:{"data-label":"Total"}},[t._v("\n                      Book Now "),a("br"),a("q-radio",{key:e.SelectData,attrs:{size:"lg",val:e},on:{input:function(a){return t.pickTransaction(e)}},model:{value:t.transactionId,callback:function(e){t.transactionId=e},expression:"transactionId"}}),a("br"),t._v("\n\n                      View Details"),a("br"),null!=t.dataFlight&&e.SelectData?[a("q-btn",{attrs:{color:"primary",disabled:t.dataFlight.SelectData!=e.SelectData},on:{click:t.checkout}},[t._v("\n                          Proceed\n                        ")])]:t._e()],2)])})):[a("td",{attrs:{colspan:"6"}},[a("p",{staticClass:"text-h6"},[t._v("No Flights are found at the moment.")])])]],2)]):t._e()])],1)],1):t._e()],1)],1)],1)},l=[],n=(a("4de4"),a("c975"),a("ded3")),s=a.n(n),o=a("2f62"),r=a("b178"),c=(r["f"].getScrollTarget,{data:function(){return{slide:"first",tab:"",transactionId:"",form:{flightSearchType:"Oneway",departure:"",destination:"",departureDate:"",returnDate:null,adults:"1",children:"0",infants:"0"},disable:!1,airports:[]}},components:{},computed:s()({},Object(o["c"])({flights:"flight/flights",selectedOneWayFlight:"flight/selectedOneWayFlight",searchInputs:"flight/searchInputs",dataFlight:"flight/dataFlight",airportsList:"flight/airports"})),methods:s()(s()({},Object(o["b"])({selectOneWayFlight:"flight/selectOneWayFlight",checkFlight:"flight/checkFlight"})),{},{optionsFn:function(t){var e=new Date;e.getDate();console.log(new Date);var a=Date.now(),i=r["d"].formatDate(a,"YYYY/MM/DD");return t>=i},filterFn:function(t,e,a){var i=this;setTimeout((function(){e((function(){if(""===t)i.airports=i.airportsList;else{var e=t.toLowerCase();i.airports=i.airportsList.filter((function(t){return t.AirportName.toLowerCase().indexOf(e)>-1||t.CityCountry.toLowerCase().indexOf(e)>-1}))}}))}),1500)},abortFilterFn:function(){},searchFlight:function(){var t=this;this.$q.loading.show({message:'<b>Search</b> is in progress.<br/><span class="text-primary">Hang on...</span>'}),this.timer=setTimeout((function(){t.$q.loading.hide(),t.timer=void 0}),1e4),this.disable=!0,this.checkFlight(this.form).then((function(e){null==t.flights&&(t.disable=!1,t.tab=t.searchInputs.flightSearchType)})).catch((function(e){t.disable=!1,t.errorMessages=e,e&&t.negativeNotification(e.error)}))},pickTransaction:function(t){var e=this;this.selectOneWayFlight({SelectData:t.SelectData}),this.$q.loading.show({message:'<b>Verifying </b> your selection.<br/><span class="text-primary">Please hang on...</span>'}),this.timer=setTimeout((function(){e.$q.loading.hide(),e.timer=void 0}),3e4)},checkout:function(){if(null!=this.selectedOneWayFlight)return this.$router.push({name:"flightCheckout"})},positiveNotification:function(t){r["b"].create({type:"positive",color:"positive",timeout:3e3,position:"center",message:t})},negativeNotification:function(t){r["b"].create({type:"negative",color:"negative",timeout:3e3,position:"center",message:t})}}),mounted:function(){this.searchInputs&&(this.tab=this.searchInputs.flightSearchType)}}),d=c,u=(a("106f"),a("2877")),h=Object(u["a"])(d,i,l,!1,null,"1e7dab5a",null);e["default"]=h.exports},cf53:function(t,e,a){}}]);